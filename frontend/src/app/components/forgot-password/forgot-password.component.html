<div class="forgot-container">
  <h2>Mot de passe oublié</h2>

  <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
    <label for="email">Email</label>
    <input type="email" id="email" formControlName="email" required>

    <div class="message" *ngIf="forgotForm.get('email')?.invalid && (forgotForm.get('email')?.dirty || forgotForm.get('email')?.touched)">
      <small *ngIf="forgotForm.get('email')?.errors?.['required']">Email est requis</small>
      <small *ngIf="forgotForm.get('email')?.errors?.['email']">Email invalide</small>
    </div>

    <div class="message success" *ngIf="message">
      {{ message }}
    </div>

    <div class="message error" *ngIf="error">
      {{ error }}
    </div>

    <button type="submit" [disabled]="isLoading || !forgotForm.valid">
      <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      {{ isLoading ? 'Envoi en cours...' : 'Envoyer le lien de réinitialisation' }}
    </button>
  </form>

  <div class="link-center">
    <a routerLink="/login">Retour à la connexion</a>
  </div>
</div>
